mxcp: 1
tool:
  name: aggregate_companies
  description: Aggregate Swiss companies by different dimensions
  parameters:
  - name: group_by
    type: string
    default: null
    description: Comma-separated list of fields to group by (max 2). Options Canton, LegalForm, IndustryCode, IndustryDescription, RegistrationYear
  - name: metrics
    type: string
    default: "count"
    description: Comma-separated list of metrics to calculate. Options count, total_capital, avg_share_capital, min_capital, max_capital, total_employees, avg_employees
  - name: company_name
    type: string
    default: null
    description: Exact company name
  - name: company_name_like
    type: string
    default: null
    description: Company name partial match
  - name: uid
    type: string
    default: null
    description: Unique Identification Number
  - name: legal_form
    type: string
    default: null
    description: Filter by legal form
  - name: canton
    type: string
    default: null
    description: Filter by canton
  - name: industry_code
    type: string
    default: null
    description: Filter by industry code
  - name: min_capital
    type: integer
    default: null
    description: Minimum share capital filter
  - name: max_capital
    type: integer
    default: null
    description: Maximum share capital filter
  - name: min_employees
    type: integer
    default: null
    description: Minimum number of employees
  - name: max_employees
    type: integer
    default: null
    description: Maximum number of employees
  - name: registration_date_from
    type: string
    default: null
    description: Registration date from
  - name: registration_date_to
    type: string
    default: null
    description: Registration date to
  - name: page_size
    type: integer
    default: 50
    description: Results per page
  source:
    file: ../sql/aggregate_companies.sql
  enabled: true